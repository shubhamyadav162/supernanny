(()=>{var e={};e.id=285,e.ids=[285],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>u,routeModule:()=>g,tree:()=>d});var s=r(3137),n=r(4647),a=r(4183),o=r.n(a),i=r(1775),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let l=s.AppPageRouteModule,d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9770)),"E:\\supernanny\\src\\app\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9197)),"E:\\supernanny\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"]}],u=["E:\\supernanny\\src\\app\\checkout\\page.tsx"],p="/checkout/page",h={require:r,loadChunk:()=>Promise.resolve()},g=new l({definition:{kind:n.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9320:(e,t,r)=>{Promise.resolve().then(r.bind(r,6547))},6547:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>CheckoutPage});var s=r(80),n=r(9885),a=r(1949),o=r.n(a),i=r(7114);function CheckoutPage(){let e=(0,i.useSearchParams)(),t=e.get("service")||"",r=e.get("numChildren")||"",a=e.get("date")||"",c=e.get("time")||"",l=e.get("name")||"",d=e.get("email")||"",u=e.get("phone")||"",p=e.get("selectedPlan")||"",h=e.get("instructions")||"",g=e.get("childAges")||"",x=e.get("addOns")||"",m=parseInt(e.get("amount")||"50000",10),[y,_]=(0,n.useState)(!1),handlePayment=async()=>{_(!0);try{let e=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:m})}),t=await e.json();if(!t.success)throw Error(t.error||"Payment initiation failed");let{orderId:r,amount:s,currency:n,key:a}=t,o=new Razorpay({key:a,amount:s,currency:n,order_id:r,name:"SuperNanny",description:"Service Booking Payment",handler(e){alert(`Payment successful: ${e.razorpay_payment_id}`),window.location.href=`/checkout/success?orderId=${r}`},prefill:{name:l,email:d,contact:u},theme:{color:"#2563EB"}});o.open()}catch(e){console.error(e),alert(e.message)}finally{_(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[s.jsx(o(),{src:"https://checkout.razorpay.com/v1/checkout.js"}),(0,s.jsxs)("div",{className:"max-w-lg w-full bg-white shadow-md rounded-lg p-6",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4 text-indigo-600",children:"Checkout"}),(0,s.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Service:"})," ",t]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Plan:"})," ",p]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Date & Time:"})," ",a," at ",c]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Children:"})," ",r," (Ages: ",g,")"]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Add-Ons:"})," ",x]}),h&&(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Notes:"})," ",h]}),(0,s.jsxs)("p",{className:"mt-4 text-lg",children:[s.jsx("strong",{children:"Total:"})," â‚¹",(m/100).toFixed(2)]})]}),s.jsx("button",{onClick:handlePayment,disabled:y,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-semibold",children:y?"Processing...":"Proceed to Payment"})]})]})}},9770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>c});var s=r(7536);let n=(0,s.createProxy)(String.raw`E:\supernanny\src\app\checkout\page.tsx`),{__esModule:a,$$typeof:o}=n,i=n.default,c=i}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[973,793,179],()=>__webpack_exec__(4219));module.exports=r})();